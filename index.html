<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Rooster Crow Counter Debug Loader</title>
</head>
<body>
  <h1>üîç Debug Loader</h1>
  <pre id="log"></pre>

  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.21.0/dist/tf.min.js"></script>

  <script>
    function log(msg) {
      document.getElementById("log").textContent += msg + "\n";
      console.log(msg);
    }

    async function loadModel() {
      try {
        log("Fetching model.json ...");
        let modelResponse = await fetch("model.json");
        log("model.json status: " + modelResponse.status);
        
        log("Fetching metadata.json ...");
        let metadataResponse = await fetch("metadata.json");
        log("metadata.json status: " + metadataResponse.status);
        
        log("Fetching weights.bin ...");
        let weightsResponse = await fetch("weights.bin");
        log("weights.bin status: " + weightsResponse.status);
        if (weightsResponse.ok) {
          log("weights.bin size: " + (weightsResponse.headers.get("content-length") || "unknown"));
        }

        log("Attempting tf.loadLayersModel ...");
        const model = await tf.loadLayersModel("model.json");
        log("üéâ Model successfully loaded!");
      } catch (err) {
        log("‚ùå ERROR: " + err.message);
      }
    }

    loadModel();
  </script>
</body>
</html>
